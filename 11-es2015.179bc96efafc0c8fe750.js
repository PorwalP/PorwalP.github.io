(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{dyg6:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var o=t("pMnS"),i=t("s7LF"),s=t("SVse"),a=t("PSD3"),r=t.n(a),c=t("+qHj");class p{constructor(l,n,t){this.cfService=l,this.toastr=n,this.route=t,this.assessmentYrs=[],this.selectedAssYr=0,this.selectedStatus="NA",this.searchEmpString="",this.filteredInvests=[],this.filterFetchError=[],this.currInvestComment="",this.investDetToApprove=[]}ngOnInit(){this.cfService.get(c.a.GET_ASSYRS).subscribe(l=>{200==l.statusCode&&(this.assessmentYrs=l.responseData,console.log(this.assessmentYrs))})}onFilterSelectChange(){let l={assYr:this.selectedAssYr,currState:this.selectedStatus,srchEmpStr:this.searchEmpString};console.log(l),this.cfService.post(c.a.GET_INVESTS_BYFILTER,l).subscribe(l=>{200==l.statusCode?(console.log(l),this.filteredInvests=l.responseData,console.log(this.filteredInvests),this.filterFetchError=[]):(this.filterFetchError.errorCode=l.statusCode,this.filterFetchError.errorMsg=l.responseText,this.filteredInvests=[])})}approveInvestment(l){let n=this.filteredInvests.findIndex(n=>n.id==l);"DC"==this.filteredInvests[n].currentState.code?(console.log("DC"),this.dcStatusApproveInvestment(l)):"AC"==this.filteredInvests[n].currentState.code&&(console.log("AC"),this.investDetToApprove=[],this.cfService.get(c.a.GET_INVESTDETAIL+l).subscribe(l=>{console.log("Investment Details:",l),200==l.statusCode&&(this.investDetToApprove=l.responseData,console.log("Investment Details:\t",this.investDetToApprove),console.log("Approving:\t",this.investDetToApprove),r.a.fire({title:"Are you sure you want to approve this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment to approve",icon:"warning",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel"}).then(l=>{if(l.value){console.log(l.value);let n=l.value,t={};t.investDetToApprove=this.investDetToApprove,t.approveComment=n,console.log(t),this.cfService.post(c.a.BULKSAVE_INVESTDET_CLRAMT,t).subscribe(l=>{console.log(l),200==l.statusCode?(this.onFilterSelectChange(),r.a.fire("Approved",l.responseText,"success")):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Approve",l.responseText,"error"))})}else l.dismiss===r.a.DismissReason.cancel||l.value||r.a.fire("Comment Required","Unable to approve investment","error")}))}))}dcStatusApproveInvestment(l){r.a.fire({title:"Are you sure you want to approve this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment to approve",icon:"warning",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel"}).then(n=>{n.value?(console.log(n.value),this.cfService.post(c.a.APPROVE_INVESTMENT+l,n.value).subscribe(l=>{console.log(l),200==l.statusCode?(this.onFilterSelectChange(),this.toastr.success(l.responseText,"Success"),r.a.fire("Approved",l.responseText,"success")):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Approve",l.responseText,"error"))})):n.dismiss===r.a.DismissReason.cancel||n.value||r.a.fire("Comment Required","Unable to approve investment","error")})}rejectInvestment(l){r.a.fire({title:"Are you sure you want to reject this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment for rejection",icon:"warning",showCancelButton:!0,confirmButtonText:"Reject",cancelButtonText:"Cancel"}).then(n=>{n.value?(console.log(n.value),this.cfService.post(c.a.REJECT_INVESTMENT+l,n.value).subscribe(l=>{console.log(l),200==l.statusCode?(this.onFilterSelectChange(),this.toastr.success(l.responseText,"Success"),r.a.fire("Rejected",l.responseText,"success")):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Reject",l.responseText,"error"))})):n.dismiss===r.a.DismissReason.cancel||n.value||r.a.fire("Comment Required","Unable to approve investment","error")})}viewComment(l){let n=this.filteredInvests.findIndex(n=>n.id==l);this.cfService.get(c.a.GET_INVESTMENT_COMMENT+l).subscribe(l=>{console.log(l),200==l.statusCode?this.filteredInvests[n].currInvestComment=l.responseData:(delete this.filteredInvests[n].currInvestComment,this.toastr.error(l.responseText,"Failed"))}),this.filteredInvests[n].isViewCommClicked=!this.filteredInvests[n].isViewCommClicked}viewInvestmentDeclaration(l){this.route.navigate(["./investment-auth/view-investment/"+l])}}var d=t("MjaE"),b=t("EApP"),m=t("iInd"),g=e.vb({encapsulation:0,styles:[[".data-list-container[_ngcontent-%COMP%]{margin-top:50px;border:1px solid #30bdb0;border-top-left-radius:50px;display:flex;flex-direction:column;justify-content:center}.data-list-container-head[_ngcontent-%COMP%]{background:linear-gradient(to right,#30bdb0,#fff);color:#fff;border-top-left-radius:50px;display:flex;justify-content:space-between;align-items:baseline;padding:20px 20px 20px 30px}.filter-row[_ngcontent-%COMP%]{margin:10px 10px 20px;padding:10px;display:flex;flex-direction:row;justify-content:space-between}.filter-grp[_ngcontent-%COMP%]{width:28%;display:flex;align-items:center}.filter-grp[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:50%}.searchBx[_ngcontent-%COMP%]{align-items:center}.searchBx[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}td[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.table-container[_ngcontent-%COMP%]{padding:10px}.tbl-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.view-btn[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.3);color:#46b8da}.create-assYr-btn[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:10px}.create-assYr-btn[_ngcontent-%COMP%]:hover{border-radius:5px;transform:scale(1.1);transition:all .3s ease-in-out}@media (max-width:635px){.data-list-container-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:12px}.tbl-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:12px;padding-right:23px}}@media (max-width:575px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10px}.tbl-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:35px;margin:5px;padding:0}.tbl-button-grp[_ngcontent-%COMP%]{margin-right:8px}}@media (max-width:525px){.tbl-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20px;height:25px;margin:5px;padding:0;font-size:10px}}"]],data:{}});function v(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.wb(1,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(2,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(3,null,["","-",""]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.fromYr,n.context.$implicit.toYr)}))}function h(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,"td",[["colspan","7"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Rb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.component.filterFetchError.errorMsg)}))}function x(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,"button",[["class","btn btn-info"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.approveInvestment(l.parent.context.$implicit.id)&&e),e}),null,null)),(l()(),e.xb(1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-check"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["\xa0Approve"]))],null,null)}function f(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,"button",[["class","btn btn-danger"],["name","button"],["style",""],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.rejectInvestment(l.parent.context.$implicit.id)&&e),e}),null,null)),(l()(),e.xb(1,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["\xa0Reject"]))],null,null)}function C(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"button",[["class","btn btn-link"],["name","button"],["style",""],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.viewComment(l.parent.context.$implicit.id)&&e),e}),null,null)),(l()(),e.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.isViewCommClicked?"Hide Comment":"View Comment")}))}function w(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Rb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.currInvestComment)}))}function I(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,16,"tr",[["class","assYrRow"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,0,"i",[["aria-hidden","true"],["class","fas fa-eye view-btn"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.viewInvestmentDeclaration(l.context.$implicit.id)&&e),e}),null,null)),(l()(),e.xb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Rb(4,null,["","\xa0-\xa0",""])),(l()(),e.xb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Rb(6,null,["",""])),(l()(),e.xb(7,0,null,null,9,"td",[],null,null,null,null,null)),(l()(),e.xb(8,0,null,null,8,"div",[["class","tbl-button-grp"]],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,x)),e.wb(10,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,f)),e.wb(12,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,C)),e.wb(14,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,w)),e.wb(16,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.context.$implicit.currentState.description.toLowerCase().includes("complete");l(n,10,0,t);var e=n.context.$implicit.currentState.description.toLowerCase().includes("complete");l(n,12,0,e);var u=n.context.$implicit.currentState.description.toLowerCase().includes("approve")||n.context.$implicit.currentState.description.toLowerCase().includes("reject")||n.context.$implicit.currentState.description.toLowerCase().includes("partial cleared");l(n,14,0,u);var o=(n.context.$implicit.currentState.description.toLowerCase().includes("approve")||n.context.$implicit.currentState.description.toLowerCase().includes("reject")||n.context.$implicit.currentState.description.toLowerCase().includes("partial cleared"))&&n.context.$implicit.isViewCommClicked;l(n,16,0,o)}),(function(l,n){l(n,4,0,n.context.$implicit.employee.empcode,n.context.$implicit.employee.displayName),l(n,6,0,n.context.$implicit.currentState.description)}))}function T(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,15,"div",[["class","table-container"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,14,"table",[["class","table table-bordered data-table"]],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,8,"thead",[],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,7,"tr",[["class","main-head"]],null,null,null,null,null)),(l()(),e.xb(4,0,null,null,0,"th",[["rowspan","1"]],null,null,null,null,null)),(l()(),e.xb(5,0,null,null,1,"th",[["rowspan","1"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Employee"])),(l()(),e.xb(7,0,null,null,1,"th",[["rowspan","1"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Status"])),(l()(),e.xb(9,0,null,null,1,"th",[["rowspan","1"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Action"])),(l()(),e.mb(16777216,null,null,1,null,h)),e.wb(12,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(13,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,I)),e.wb(15,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,12,0,t.filterFetchError.errorMsg),l(n,15,0,t.filteredInvests)}),null)}function R(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,61,"div",[["class","container outer-container"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,60,"div",[["class","data-list-container"]],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,2,"div",[["class","data-list-container-head"]],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Request List"])),(l()(),e.xb(5,0,null,null,54,"div",[["class","filter-row"]],null,null,null,null,null)),(l()(),e.xb(6,0,null,null,14,"div",[["class","filter-grp"]],null,null,null,null,null)),(l()(),e.xb(7,0,null,null,1,"label",[["class","col-md-6"],["for",""]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Assessment Year:"])),(l()(),e.xb(9,0,null,null,11,"select",[["class","form-control"],["name",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],(function(l,n,t){var u=!0,o=l.component;return"change"===n&&(u=!1!==e.Jb(l,10).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,10).onTouched()&&u),"change"===n&&(u=!1!==o.onFilterSelectChange()&&u),"ngModelChange"===n&&(u=!1!==(o.selectedAssYr=t)&&u),u}),null,null)),e.wb(10,16384,null,0,i.x,[e.J,e.n],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.x]),e.wb(12,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(14,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),e.xb(15,0,null,null,3,"option",[["hidden",""],["selected",""],["value","0"]],null,null,null,null,null)),e.wb(16,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(17,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["Select Year"])),(l()(),e.mb(16777216,null,null,1,null,v)),e.wb(20,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.xb(21,0,null,null,28,"div",[["class","filter-grp"]],null,null,null,null,null)),(l()(),e.xb(22,0,null,null,1,"label",[["class","col-md-4"],["for",""]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Status:"])),(l()(),e.xb(24,0,null,null,25,"select",[["class","form-control"],["name",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],(function(l,n,t){var u=!0,o=l.component;return"change"===n&&(u=!1!==e.Jb(l,25).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,25).onTouched()&&u),"change"===n&&(u=!1!==o.onFilterSelectChange()&&u),"ngModelChange"===n&&(u=!1!==(o.selectedStatus=t)&&u),u}),null,null)),e.wb(25,16384,null,0,i.x,[e.J,e.n],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.x]),e.wb(27,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(29,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),e.xb(30,0,null,null,3,"option",[["hidden",""],["selected",""],["value","NA"]],null,null,null,null,null)),e.wb(31,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(32,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["Select Status"])),(l()(),e.xb(34,0,null,null,3,"option",[["value","NA"]],null,null,null,null,null)),e.wb(35,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(36,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["All"])),(l()(),e.xb(38,0,null,null,3,"option",[["value","P"]],null,null,null,null,null)),e.wb(39,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(40,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["Pending"])),(l()(),e.xb(42,0,null,null,3,"option",[["value","A"]],null,null,null,null,null)),e.wb(43,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(44,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["Approved"])),(l()(),e.xb(46,0,null,null,3,"option",[["value","R"]],null,null,null,null,null)),e.wb(47,147456,null,0,i.r,[e.n,e.J,[2,i.x]],{value:[0,"value"]},null),e.wb(48,147456,null,0,i.C,[e.n,e.J,[8,null]],{value:[0,"value"]},null),(l()(),e.Rb(-1,null,["Rejected"])),(l()(),e.xb(50,0,null,null,9,"div",[["class","input-group filter-grp searchBx"]],null,null,null,null,null)),(l()(),e.xb(51,0,null,null,5,"input",[["class","form-control"],["name",""],["placeholder","search employee"],["type","text"],["value",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,52)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,52).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,52)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,52)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.onFilterSelectChange()&&u),"ngModelChange"===n&&(u=!1!==(o.searchEmpString=t)&&u),u}),null,null)),e.wb(52,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(54,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(56,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),e.xb(57,0,null,null,2,"div",[["class","input-group-btn srch-btn"]],null,null,null,null,null)),(l()(),e.xb(58,0,null,null,1,"button",[["class"," btn btn-warning"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.xb(59,0,null,null,0,"i",[["class","glyphicon glyphicon-search"]],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,T)),e.wb(61,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,12,0,"",t.selectedAssYr),l(n,16,0,"0"),l(n,17,0,"0"),l(n,20,0,t.assessmentYrs),l(n,27,0,"",t.selectedStatus),l(n,31,0,"NA"),l(n,32,0,"NA"),l(n,35,0,"NA"),l(n,36,0,"NA"),l(n,39,0,"P"),l(n,40,0,"P"),l(n,43,0,"A"),l(n,44,0,"A"),l(n,47,0,"R"),l(n,48,0,"R"),l(n,54,0,"",!t.selectedAssYr,t.searchEmpString),l(n,61,0,t.selectedAssYr)}),(function(l,n){var t=n.component;l(n,9,0,e.Jb(n,14).ngClassUntouched,e.Jb(n,14).ngClassTouched,e.Jb(n,14).ngClassPristine,e.Jb(n,14).ngClassDirty,e.Jb(n,14).ngClassValid,e.Jb(n,14).ngClassInvalid,e.Jb(n,14).ngClassPending),l(n,24,0,e.Jb(n,29).ngClassUntouched,e.Jb(n,29).ngClassTouched,e.Jb(n,29).ngClassPristine,e.Jb(n,29).ngClassDirty,e.Jb(n,29).ngClassValid,e.Jb(n,29).ngClassInvalid,e.Jb(n,29).ngClassPending),l(n,51,0,e.Jb(n,56).ngClassUntouched,e.Jb(n,56).ngClassTouched,e.Jb(n,56).ngClassPristine,e.Jb(n,56).ngClassDirty,e.Jb(n,56).ngClassValid,e.Jb(n,56).ngClassInvalid,e.Jb(n,56).ngClassPending),l(n,58,0,!t.selectedAssYr)}))}function M(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"app-view-request",[],null,null,null,R,g)),e.wb(1,114688,null,0,p,[d.a,b.j,m.k],null,null)],(function(l,n){l(n,1,0)}),null)}var _=e.tb("app-view-request",p,M,{},{},[]);class J{constructor(l,n,t,e){this.cfService=l,this.toastr=n,this.route=t,this.actRoute=e,this.assessmentYears=[],this.submitted=!1,this.investDetToApprove=[],this.actRoute.params.subscribe(l=>{this.pv_InvestId=l.id})}ngOnInit(){this.getInvestmentDetails()}getInvestmentDetails(){this.cfService.get(c.a.GET_INVESTDETAIL_CHILDPARENT+this.pv_InvestId).subscribe(l=>{console.log(l),200==l.statusCode&&(this.parentChildInvestDet=l.responseData,this.calTotalAmount(),console.log("Investment Details:\t",this.parentChildInvestDet),this.currentInvestment=this.parentChildInvestDet[0].child[0].investment,console.log("Current Invetment:\t",this.currentInvestment),this.investmentEmployee=this.parentChildInvestDet[0].child[0].investment.employee,console.log("Employee of investment:\t",this.investmentEmployee),"AC"==this.parentChildInvestDet[0].child[0].investment.currentState.code&&this.cfService.get(c.a.GET_DOCS_BYINVST+this.pv_InvestId).subscribe(l=>{if(200==l.statusCode){let n=l.responseData;console.log("Documents for Investment:\t",n);for(let l of this.parentChildInvestDet)for(let t of l.child){let l=n.filter(l=>l.investmentDetails.id===t.id);t.uploadedDocs=l}console.log("Investment Details with parent child relation:\t",this.parentChildInvestDet)}}))})}calTotalAmount(){if(this.parentChildInvestDet)for(let l of this.parentChildInvestDet)null!=l.parent&&(l.parent.declaredTotal=0,l.parent.actualTotal=0,l.parent.clearedTotal=0,l.child.forEach(n=>{l.parent.declaredTotal+=n.declaredAmount,l.parent.actualTotal+=parseInt(n.actualAmount),l.parent.clearedTotal+=parseInt(n.clearedAmount)}))}showHideChilds(l){console.log(this.parentChildInvestDet);let n=this.parentChildInvestDet.findIndex(n=>n.parent&&n.parent.id==l);console.log(n),this.parentChildInvestDet[n].parent.show=!this.parentChildInvestDet[n].parent.show}showAll(l){for(let n of this.parentChildInvestDet)null!=n.parent&&(n.parent.show=l)}openFile(l){return window.open(l,"popup","width=500,height=500,"),!1}approveInvestment(l){if("DC"==this.parentChildInvestDet[0].child[0].investment.currentState.code)this.dcStatusApproveInvestment(l);else if("AC"==this.parentChildInvestDet[0].child[0].investment.currentState.code){this.investDetToApprove=[];for(let l of this.parentChildInvestDet)if(null!=l.parent)for(let n of l.child)this.investDetToApprove[this.investDetToApprove.length]=n;else null==l.parent&&(this.investDetToApprove[this.investDetToApprove.length]=l.child[0]);console.log("Approving:\t",this.investDetToApprove),r.a.fire({title:"Are you sure you want to approve this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment to approve",icon:"warning",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel"}).then(l=>{if(l.value){console.log(l.value);let n=l.value,t={};t.investDetToApprove=this.investDetToApprove,t.approveComment=n,console.log(t),this.cfService.post(c.a.BULKSAVE_INVESTDET_CLRAMT,t).subscribe(l=>{console.log(l),200==l.statusCode?(r.a.fire("Approved",l.responseText,"success"),this.route.navigate(["/esp/investment-auth/view-request"])):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Approve",l.responseText,"error"))})}else l.dismiss===r.a.DismissReason.cancel||l.value||r.a.fire("Comment Required","Unable to approve investment","error")})}}rejectInvestment(l){"DC"==this.parentChildInvestDet[0].child[0].investment.currentState.code?this.dcStatusRejectInvestment(l):"AC"==this.parentChildInvestDet[0].child[0].investment.currentState.code&&this.dcStatusRejectInvestment(l)}dcStatusApproveInvestment(l){r.a.fire({title:"Are you sure you want to approve this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment to approve",icon:"warning",showCancelButton:!0,confirmButtonText:"Approve",cancelButtonText:"Cancel"}).then(n=>{n.value?(console.log(n.value),this.cfService.post(c.a.APPROVE_INVESTMENT+l,n.value).subscribe(l=>{console.log(l),200==l.statusCode?(this.toastr.success(l.responseText,"Success"),r.a.fire("Approved",l.responseText,"success"),this.route.navigate(["/esp/investment-auth/view-request"])):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Approve",l.responseText,"error"))})):n.dismiss===r.a.DismissReason.cancel||n.value||r.a.fire("Comment Required","Unable to approve investment","error")})}dcStatusRejectInvestment(l){r.a.fire({title:"Are you sure you want to reject this investment?",text:"please add comment below",input:"text",inputPlaceholder:"add comment for rejection",icon:"warning",showCancelButton:!0,confirmButtonText:"Reject",cancelButtonText:"Cancel"}).then(n=>{n.value?(console.log(n.value),this.cfService.post(c.a.REJECT_INVESTMENT+l,n.value).subscribe(l=>{console.log(l),200==l.statusCode?(this.toastr.success(l.responseText,"Success"),r.a.fire("Rejected",l.responseText,"success"),this.route.navigate(["/esp/investment-auth/view-request"])):(this.toastr.error(l.responseText,"Failed"),r.a.fire("Unable to Reject",l.responseText,"error"))})):n.dismiss===r.a.DismissReason.cancel||n.value||r.a.fire("Comment Required","Unable to reject investment","error")})}}var A=e.vb({encapsulation:0,styles:[[".head[_ngcontent-%COMP%]{border-top-left-radius:25px;background:linear-gradient(to right,#30bdb0,#fff)}.Container[_ngcontent-%COMP%]{border-top-left-radius:29px;border:1px solid #30bdb0;padding:0 0 50px}#expCollbtns[_ngcontent-%COMP%]{float:right}.inner-tbl-button-grp[_ngcontent-%COMP%]{float:left}.btn-default[_ngcontent-%COMP%]{border:1px solid silver}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}h3[_ngcontent-%COMP%]{padding:10px;color:#fff}.basic-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:10px 10px 40px}fieldset[_ngcontent-%COMP%]{margin:10px 10px 50px;border:1px solid #d3d3d3;border-radius:8px}legend[_ngcontent-%COMP%]{margin-left:20px;padding:5px;background-color:none;width:auto;border:none}#Addbtn[_ngcontent-%COMP%]{margin:10px;border-radius:0}#tableDiv[_ngcontent-%COMP%]{margin:20px}.btn-icons[_ngcontent-%COMP%]{border-radius:50px;width:40px;height:40px;padding:0}td[_ngcontent-%COMP%]{padding:7px;text-align:center}td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{text-align:center;display:inline-block;vertical-align:middle}thead[_ngcontent-%COMP%]{background-color:#30bdb0;color:#fff}.btn-edit[_ngcontent-%COMP%]{padding:11px}.investmentActualDiv[_ngcontent-%COMP%]{padding:30px}#myTable[_ngcontent-%COMP%]{margin:30px}#inputBox[_ngcontent-%COMP%]{width:70px}.userDetails[_ngcontent-%COMP%]{padding:10px}.childName[_ngcontent-%COMP%]{padding:15px;font-size:18px}h5[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:18px}.outer-button-grp[_ngcontent-%COMP%]{float:right}@media (max-width:770px){table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:765px){table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:10px}}@media (max-width:675px){fieldset[_ngcontent-%COMP%]{font-size:12px;margin:10px 10px 50px;border-radius:8px}legend[_ngcontent-%COMP%]{font-size:15px}}@media (max-width:590px){.basic-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.basic-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px}fieldset[_ngcontent-%COMP%]{font-size:15px}.outer-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:430px){.outer-button-grp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:10px}}@media (max-width:390px){.basic-info[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:216px){legend[_ngcontent-%COMP%]{font-size:10px}}"]],data:{}});function P(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(1,null,["","-",""]))],null,(function(l,n){var t=n.component;l(n,1,0,null==t.currentInvestment?null:t.currentInvestment.template.assessmentYear.fromYr,null==t.currentInvestment?null:t.currentInvestment.template.assessmentYear.toYr)}))}function O(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,[" Sorry, No records to show ! "]))],null,null)}function y(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Rb(1,null,["Rs.","/-"]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.parent.declaredTotal)}))}function D(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Rb(1,null,["Rs.","/-"]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.parent.actualTotal)}))}function S(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Rb(1,null,["Rs.","/-"]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.parent.clearedTotal)}))}function $(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Rb(4,null,["",""])),(l()(),e.xb(5,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),e.xb(6,0,null,null,3,"button",[["class","btn btn-default"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.showHideChilds(l.parent.context.$implicit.parent.id)&&e),e}),null,null)),(l()(),e.xb(7,0,null,null,2,"i",[],null,null,null,null,null)),e.Ob(512,null,s.u,s.v,[e.v,e.w,e.n,e.J]),e.wb(9,278528,null,0,s.j,[s.u],{ngClass:[0,"ngClass"]},null),(l()(),e.xb(10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.xb(11,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,y)),e.wb(13,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,D)),e.wb(15,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,S)),e.wb(17,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,9,0,null==n.parent.context.$implicit.parent||n.parent.context.$implicit.parent.show?"fa fa-minus":"fa fa-plus"),l(n,13,0,n.parent.context.$implicit.parent.declaredTotal>0),l(n,15,0,n.parent.context.$implicit.parent.actualTotal>0),l(n,17,0,n.parent.context.$implicit.parent.clearedTotal>0)}),(function(l,n){l(n,4,0,n.parent.context.$implicit.parent.name)}))}function E(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"p",[["class","view-doc-para"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(2,null,["",":"])),(l()(),e.Rb(-1,null,["\xa0\xa0\xa0"])),(l()(),e.xb(4,0,null,null,1,"a",[["class","text-info"],["target","popup"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openFile(l.context.$implicit.path)&&e),e}),null,null)),(l()(),e.Rb(-1,null,["view document"]))],null,(function(l,n){l(n,2,0,n.context.$implicit.docType.documentType.displayName)}))}function k(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,E)),e.wb(2,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.uploadedDocs)}),null)}function U(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["disabled",""],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.declaredAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,"",n.parent.context.$implicit.declaredAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function F(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["disabled",""],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.actualAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,"",n.parent.context.$implicit.actualAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function N(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.context.$implicit.clearedAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,n.parent.context.$implicit.clearedAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function j(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,1,"td",[["class","childName"]],null,null,null,null,null)),(l()(),e.Rb(2,null,["",""])),(l()(),e.xb(3,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,k)),e.wb(5,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,U)),e.wb(8,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,F)),e.wb(11,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,N)),e.wb(14,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.context.$implicit.uploadedDocs),l(n,8,0,null!=n.context.$implicit.declaredAmount),l(n,11,0,null!=n.context.$implicit.actualAmount),l(n,14,0,null!=n.context.$implicit.actualAmount)}),(function(l,n){l(n,2,0,n.context.$implicit.exemption.name)}))}function q(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,j)),e.wb(2,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.child)}),null)}function B(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(2,null,["",":"])),(l()(),e.Rb(-1,null,["\xa0\xa0\xa0"])),(l()(),e.xb(4,0,null,null,1,"a",[["class","text-info"],["target","popup"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openFile(l.context.$implicit.path)&&e),e}),null,null)),(l()(),e.Rb(-1,null,["view document"]))],null,(function(l,n){l(n,2,0,n.context.$implicit.docType.documentType.displayName)}))}function V(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,B)),e.wb(2,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.child[0].uploadedDocs)}),null)}function Y(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["disabled",""],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.parent.context.$implicit.child[0].declaredAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,"",n.parent.parent.context.$implicit.child[0].declaredAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function z(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["disabled",""],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.parent.context.$implicit.child[0].actualAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,"",n.parent.parent.context.$implicit.child[0].actualAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function L(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,5,"input",[["class","form-control"],["id","inputBox"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,o=l.component;return"input"===n&&(u=!1!==e.Jb(l,1)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Jb(l,1).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Jb(l,1)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Jb(l,1)._compositionEnd(t.target.value)&&u),"keyup"===n&&(u=!1!==o.calTotalAmount()&&u),"ngModelChange"===n&&(u=!1!==(l.parent.parent.context.$implicit.child[0].clearedAmount=t)&&u),u}),null,null)),e.wb(1,16384,null,0,i.d,[e.J,e.n,[2,i.a]],null,null),e.Ob(1024,null,i.m,(function(l){return[l]}),[i.d]),e.wb(3,671744,null,0,i.q,[[8,null],[8,null],[8,null],[6,i.m]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ob(2048,null,i.n,null,[i.q]),e.wb(5,16384,null,0,i.o,[[4,i.n]],null,null)],(function(l,n){l(n,3,0,n.parent.parent.context.$implicit.child[0].clearedAmount)}),(function(l,n){l(n,0,0,e.Jb(n,5).ngClassUntouched,e.Jb(n,5).ngClassTouched,e.Jb(n,5).ngClassPristine,e.Jb(n,5).ngClassDirty,e.Jb(n,5).ngClassValid,e.Jb(n,5).ngClassInvalid,e.Jb(n,5).ngClassPending)}))}function H(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Rb(4,null,["",""])),(l()(),e.xb(5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,V)),e.wb(7,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(8,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,Y)),e.wb(10,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,z)),e.wb(13,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(14,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,L)),e.wb(16,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,7,0,n.parent.context.$implicit.child[0].uploadedDocs),l(n,10,0,null==n.parent.context.$implicit.parent&&null!=n.parent.context.$implicit.child[0].declaredAmount),l(n,13,0,null==n.parent.context.$implicit.parent&&null!=n.parent.context.$implicit.child[0].actualAmount),l(n,16,0,null==n.parent.context.$implicit.parent&&null!=n.parent.context.$implicit.child[0].actualAmount)}),(function(l,n){l(n,4,0,n.parent.context.$implicit.child[0].exemption.name)}))}function G(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,$)),e.wb(2,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,q)),e.wb(4,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,H)),e.wb(6,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(0,null,null,0))],(function(l,n){l(n,2,0,null!=n.context.$implicit.parent&&1==n.context.$implicit.parent.isParent&&"A"==n.context.$implicit.parent.status),l(n,4,0,null!=n.context.$implicit.parent&&n.context.$implicit.parent.show&&1==n.context.$implicit.parent.isParent&&"A"==n.context.$implicit.parent.status),l(n,6,0,null==n.context.$implicit.parent&&0==n.context.$implicit.child[0].exemption.isParent)}),null)}function K(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,"button",[["class","btn btn-success"],["name","button"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==u.approveInvestment(u.parentChildInvestDet[0].child[0].investment.id)&&e),e}),null,null)),(l()(),e.xb(1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-check"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["\xa0Approve"]))],null,null)}function Q(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,2,"button",[["class","btn btn-danger"],["name","button"],["style",""],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=!1!==u.rejectInvestment(u.parentChildInvestDet[0].child[0].investment.id)&&e),e}),null,null)),(l()(),e.xb(1,0,null,null,0,"i",[["class","fa fa-close"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,["\xa0Reject"]))],null,null)}function W(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,32,"div",[["id","myTable"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,29,"table",[["class","table table-bordered"]],null,null,null,null,null)),(l()(),e.xb(4,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),e.xb(5,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),e.xb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Tax Exemption Heads"])),(l()(),e.xb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Comments"])),(l()(),e.xb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Declared"])),(l()(),e.xb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Actual"])),(l()(),e.xb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Cleared"])),(l()(),e.xb(16,0,null,null,16,"tbody",[],null,null,null,null,null)),(l()(),e.xb(17,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),e.xb(18,0,null,null,5,"td",[["colspan","5"]],null,null,null,null,null)),(l()(),e.xb(19,0,null,null,4,"div",[["class","btn-group inner-tbl-button-grp"]],null,null,null,null,null)),(l()(),e.xb(20,0,null,null,1,"button",[["class","btn btn-default mr-3 mt-1 float-right"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.showAll(!1)&&e),e}),null,null)),(l()(),e.Rb(-1,null,["Collapse All"])),(l()(),e.xb(22,0,null,null,1,"button",[["class","btn btn-default mr-3 mt-sm-1 float-right"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.showAll(!0)&&e),e}),null,null)),(l()(),e.Rb(-1,null,["Expand All"])),(l()(),e.mb(16777216,null,null,1,null,G)),e.wb(25,278528,null,0,s.k,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.xb(26,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),e.xb(27,0,null,null,5,"td",[["colspan","5"]],null,null,null,null,null)),(l()(),e.xb(28,0,null,null,4,"div",[["class","btn-group outer-button-grp"]],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,K)),e.wb(30,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,Q)),e.wb(32,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,25,0,t.parentChildInvestDet),l(n,30,0,null==t.currentInvestment?null:t.currentInvestment.currentState.description.toLowerCase().includes("complete")),l(n,32,0,null==t.currentInvestment?null:t.currentInvestment.currentState.description.toLowerCase().includes("complete"))}),null)}function X(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,57,"div",[["class","Container"]],null,null,null,null,null)),(l()(),e.xb(1,0,null,null,5,"div",[["class","head"]],null,null,null,null,null)),(l()(),e.xb(2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.xb(3,0,null,null,3,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),e.xb(4,0,null,null,2,"h3",[],null,null,null,null,null)),(l()(),e.xb(5,0,null,null,0,"i",[["class","fa fa-list mr-2"]],null,null,null,null,null)),(l()(),e.Rb(-1,null,[" Details of Investments"])),(l()(),e.xb(7,0,null,null,44,"div",[["class","userDetails"]],null,null,null,null,null)),(l()(),e.xb(8,0,null,null,21,"fieldset",[["class","row detail-continer"]],null,null,null,null,null)),(l()(),e.xb(9,0,null,null,1,"legend",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,[" Employee Details: "])),(l()(),e.xb(11,0,null,null,18,"div",[["class","basic-info"]],null,null,null,null,null)),(l()(),e.xb(12,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(13,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Employee Code:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.xb(16,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(17,null,["",""])),(l()(),e.xb(18,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(19,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Employee Name:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.xb(22,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(23,null,["",""])),(l()(),e.xb(24,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(25,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Pan No.:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.xb(28,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(29,null,["",""])),(l()(),e.xb(30,0,null,null,21,"fieldset",[["class","row detail-continer"]],null,null,null,null,null)),(l()(),e.xb(31,0,null,null,1,"legend",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,[" Investment Details: "])),(l()(),e.xb(33,0,null,null,18,"div",[["class","basic-info"]],null,null,null,null,null)),(l()(),e.xb(34,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(35,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Assessment Year:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.mb(16777216,null,null,1,null,P)),e.wb(39,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.xb(40,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(41,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Current Status:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.xb(44,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(45,null,["",""])),(l()(),e.xb(46,0,null,null,5,"div",[["class",""]],null,null,null,null,null)),(l()(),e.xb(47,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Rb(-1,null,["Template Name:"])),(l()(),e.Rb(-1,null,["\xa0\xa0"])),(l()(),e.xb(50,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),e.Rb(51,null,["",""])),(l()(),e.xb(52,0,null,null,0,"hr",[["style","width:92%;"]],null,null,null,null,null)),(l()(),e.xb(53,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.mb(16777216,null,null,1,null,O)),e.wb(55,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null),(l()(),e.mb(16777216,null,null,1,null,W)),e.wb(57,16384,null,0,s.l,[e.U,e.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,39,0,null==t.currentInvestment?null:t.currentInvestment.template.assessmentYear),l(n,55,0,!t.currentInvestment),l(n,57,0,(null==t.parentChildInvestDet?null:t.parentChildInvestDet.length)>0)}),(function(l,n){var t=n.component;l(n,17,0,null==t.investmentEmployee?null:t.investmentEmployee.empcode),l(n,23,0,null==t.investmentEmployee?null:t.investmentEmployee.displayName),l(n,29,0,null==t.investmentEmployee?null:t.investmentEmployee.panno),l(n,45,0,null==t.currentInvestment?null:t.currentInvestment.currentState.description),l(n,51,0,null==t.currentInvestment?null:t.currentInvestment.template.name)}))}function Z(l){return e.Tb(0,[(l()(),e.xb(0,0,null,null,1,"app-view-investment-declaration",[],null,null,null,X,A)),e.wb(1,114688,null,0,J,[d.a,b.j,m.k,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}var ll=e.tb("app-view-investment-declaration",J,Z,{},{},[]);class nl{}t.d(n,"InvestmentAuthorizationModuleNgFactory",(function(){return tl}));var tl=e.ub(u,[],(function(l){return e.Gb([e.Hb(512,e.l,e.fb,[[8,[o.a,_,ll]],[3,e.l],e.B]),e.Hb(4608,s.n,s.m,[e.x,[2,s.z]]),e.Hb(4608,i.A,i.A,[]),e.Hb(4608,i.e,i.e,[]),e.Hb(1073742336,s.b,s.b,[]),e.Hb(1073742336,i.z,i.z,[]),e.Hb(1073742336,i.j,i.j,[]),e.Hb(1073742336,i.v,i.v,[]),e.Hb(1073742336,m.o,m.o,[[2,m.t],[2,m.k]]),e.Hb(1073742336,nl,nl,[]),e.Hb(1073742336,u,u,[]),e.Hb(1024,m.i,(function(){return[[{path:"",children:[{path:"",redirectTo:"view-request",pathMatch:"full"},{path:"view-request",component:p},{path:"view-investment/:id",component:J}]}]]}),[])])}))}}]);