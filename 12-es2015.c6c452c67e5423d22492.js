(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{HiG8:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),s=u("SVse"),a=u("s7LF"),o=u("jvCn"),c=u("7g+E"),r=u("lBFt"),b=u("qeSj"),d=u("+qHj");class p{constructor(l,n,u,t,e){this.router=l,this.modalBox=n,this.httpService=u,this.toastr=t,this.spinner=e,this.exemptionDocs=[],this.submitted=!1,this.objectToStore=[],this.exemptionIds=[],this.responseFailed=!1}ngOnInit(){this.current_user=JSON.parse(localStorage.getItem("current_user")),this.spinner.show(),this.getAssessmentYear()}getAssessmentYear(){this.httpService.get(d.a.GET_ASSYRS).subscribe(l=>{this.assessmentYears=l.responseData,this.spinner.hide()},l=>{this.responseFailed=!0,this.spinner.hide()})}getInvestmentDetails(l){this.assessmentYearId=l.target.value;var n={assessyrId:this.assessmentYearId,employeeId:this.current_user.id};this.spinner.show(),this.httpService.post(d.a.GET_INVESTMENT_DETAILS,n).subscribe(l=>{this.investmentDetails=l.message,this.spinner.hide(),this.investment=this.investmentDetails[0].investment,console.log("current state",this.investment.currentState.code),"AC"==this.investment.currentState.code||"AA"==this.investment.currentState.code?this.submitted=!0:"AR"!=this.investment.currentState.code&&"DC"!=this.investment.currentState.code&&"AP"!=this.investment.currentState.code||(this.submitted=!1),this.httpService.post(d.a.INVESTMENT_GET_STATE_MAP,this.investment).subscribe(l=>{this.investmentStateMap=l}),this.investmentDetails.forEach(l=>{this.exemptionIds.push(l.exemption.id)});let n={assessyrId:this.assessmentYearId,exemptionId:this.exemptionIds};this.spinner.show(),this.httpService.post(d.a.GET_DOCTYPE,n).subscribe(l=>{this.docTypesForExemption=l,this.spinner.hide(),this.spinner.show(),this.httpService.get(d.a.GET_INVESTDETAIL_CHILDPARENT+"/"+this.investment.id).subscribe(l=>{this.parentChildInvestmentDetails=l.responseData,this.responseFailed=!1,this.spinner.hide(),this.stateCode=this.parentChildInvestmentDetails[0].child[0].investment.currentState.description;for(let n of this.parentChildInvestmentDetails)for(let l of n.child){let n=this.docTypesForExemption[l.exemption.id];n&&(l.docType=n)}this.spinner.show(),this.httpService.get(d.a.GET_DOCS_BYINVST+"/"+this.investment.id).subscribe(l=>{if(200==l.statusCode){let n=l.responseData;for(let l of this.parentChildInvestmentDetails)for(let u of l.child){let l=n.filter(l=>l.investmentDetails.id===u.id);u.uploadedDocs=l}}this.spinner.hide()})})})},l=>{this.responseFailed=!0,this.spinner.hide()})}updateInvDet(l,n){this.investmentDetails.forEach(u=>{console.log(u.actualAmount),u.id==l.id&&(u.actualAmount=n.target.value)})}showHideChilds(l){for(let n of this.parentChildInvestmentDetails)null!=n.parent&&n.parent.id==l&&(n.parent.show=!n.parent.show)}showAll(l){for(let n of this.parentChildInvestmentDetails)null!=n.parent&&(n.parent.show=l)}saveInvestmentDetails(){this.investmentDetails.forEach(l=>{this.objectToStore.push(l)}),this.httpService.post(d.a.SAVE_ACTUALS,{InvestmentDetailsList:this.objectToStore,DocumentDetailsList:this.exemptionDocs}).subscribe(l=>{this.toastr.success("Investment Details Saved Successfully","Success"),this.spinner.hide(),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate(["/esp/investment"])})}submitInvestmentDetails(){this.investmentDetails.forEach(l=>{this.objectToStore.push(l)}),console.log(this.exemptionDocs),this.httpService.post(d.a.SUBMIT_ACTUALS,{InvestmentDetailsList:this.objectToStore,DocumentDetailsList:this.exemptionDocs}).subscribe(l=>{this.toastr.success("Investment Details Submitted Successfully","Success"),this.spinner.hide(),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate(["/esp/investment"])})}savePath(l,n,u){this.exemptionDocs.push({path:l,name:n.documentType.displayName,docType:n,investmentDetails:u})}}var m=u("iInd"),x=u("Xv0t"),h=u("EApP"),f=t.vb({encapsulation:0,styles:[["#expCollbtns[_ngcontent-%COMP%]{float:right}.btn-default[_ngcontent-%COMP%]{border:1px solid silver}h3[_ngcontent-%COMP%]{padding:10px;color:#fff}#Addbtn[_ngcontent-%COMP%]{margin:10px;border-radius:0}#tableDiv[_ngcontent-%COMP%]{margin:20px}td[_ngcontent-%COMP%]{padding:7px}.btn-edit[_ngcontent-%COMP%]{padding:11px}.investmentActualDiv[_ngcontent-%COMP%]{padding:30px}#myTable[_ngcontent-%COMP%]{margin:30px}#inputBox[_ngcontent-%COMP%]{width:70px}.userDetails[_ngcontent-%COMP%]{padding:10px}.childName[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:15px}.form-control[_ngcontent-%COMP%]{width:19%}#requiredMessage[_ngcontent-%COMP%]{color:red}#selectdrop[_ngcontent-%COMP%]{width:30%;margin-left:27px}@media (max-width:675px){fieldset[_ngcontent-%COMP%]{font-size:12px;margin:10px 10px 50px;border-radius:8px}legend[_ngcontent-%COMP%]{font-size:15px}}@media (max-width:590px){.basic-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.basic-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px}fieldset[_ngcontent-%COMP%]{font-size:15px}}@media (max-width:390px){.basic-info[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:216px){legend[_ngcontent-%COMP%]{font-size:10px}#selectdrop[_ngcontent-%COMP%]{width:90%}}"]],data:{}});function v(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(1,null,["",""]))],null,(function(l,n){var u=n.component;l(n,1,0,null==u.investment?null:u.investment.currentState.description)}))}function g(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,13,"fieldset",[["class","fieldset"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"legend",[["class","legend"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Investment Details: "])),(l()(),t.xb(4,0,null,null,10,"div",[["class","row p-3"]],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,5,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,2,"label",[["class","mr-2"]],null,null,null,null,null)),(l()(),t.xb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Investment Status:"])),(l()(),t.mb(16777216,null,null,1,null,v)),t.wb(10,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(11,0,null,null,3,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,2,"label",[["class","info-label text-primary"]],null,null,null,null,null)),(l()(),t.xb(13,0,null,null,1,"a",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.modalBox.getModal("commentsBox").open()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["View Comments"]))],(function(l,n){l(n,10,0,n.component.investment)}),null)}function I(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),t.wb(1,147456,null,0,a.r,[t.n,t.J,[8,null]],null,null),t.wb(2,147456,null,0,a.C,[t.n,t.J,[8,null]],null,null),(l()(),t.Rb(-1,null,["-----"]))],null,null)}function R(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"option",[["disabled",""],["selected",""]],null,null,null,null,null)),t.wb(1,147456,null,0,a.r,[t.n,t.J,[8,null]],null,null),t.wb(2,147456,null,0,a.C,[t.n,t.J,[8,null]],null,null),(l()(),t.Rb(-1,null,["Not selected"]))],null,null)}function T(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.wb(1,147456,null,0,a.r,[t.n,t.J,[8,null]],{value:[0,"value"]},null),t.wb(2,147456,null,0,a.C,[t.n,t.J,[8,null]],{value:[0,"value"]},null),(l()(),t.Rb(3,null,["","-",""]))],(function(l,n){l(n,1,0,t.Bb(1,"",n.context.$implicit.id,"")),l(n,2,0,t.Bb(1,"",n.context.$implicit.id,""))}),(function(l,n){l(n,3,0,n.context.$implicit.fromYr,n.context.$implicit.toYr)}))}function w(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"div",[["class","alert alert-danger ml-2 mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Not Found ! "]))],null,null)}function S(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"div",[["class","alert alert-success ml-2 mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Your Actual is Submitted, wait for approval ! "]))],null,null)}function C(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"div",[["class","alert alert-success ml-2 mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Your Actual is Approved ! "]))],null,null)}function A(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"div",[["class","alert alert-danger ml-2 mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Your Actual is Rejected ! "]))],null,null)}function D(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,S)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,C)),t.wb(4,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,A)),t.wb(6,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,u.submitted&&"AC"==u.investment.currentState.code),l(n,4,0,u.submitted&&"AA"==u.investment.currentState.code),l(n,6,0,u.submitted&&"AR"==u.investment.currentState.code)}),null)}function E(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,2,"label",[["class","float-left headText"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(4,null,["",""])),(l()(),t.xb(5,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,3,"button",[["class","btn btn-default tableBtn"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showHideChilds(l.parent.context.$implicit.parent.id)&&t),t}),null,null)),(l()(),t.xb(7,0,null,null,2,"i",[],null,null,null,null,null)),t.Ob(512,null,s.u,s.v,[t.v,t.w,t.n,t.J]),t.wb(9,278528,null,0,s.j,[s.u],{ngClass:[0,"ngClass"]},null),(l()(),t.xb(10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.xb(13,0,null,null,0,"td",[],null,null,null,null,null))],(function(l,n){l(n,9,0,null==n.parent.context.$implicit.parent||n.parent.context.$implicit.parent.show?"fa fa-minus":"fa fa-plus")}),(function(l,n){l(n,4,0,n.parent.context.$implicit.parent.name)}))}function P(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"span",[["id","requiredMessage"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["*"]))],null,null)}function y(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"span",[["class","subTexts"]],null,null,null,null,null)),(l()(),t.Rb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.path)}))}function $(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,y)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.context.$implicit.investmentDetails.exemption.id==n.parent.parent.context.$implicit.exemption.id&&n.parent.context.$implicit.documentType.code==n.context.$implicit.docType.documentType.code)}),null)}function _(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,15,null,null,null,null,null,null,null)),(l()(),t.xb(1,0,null,null,14,"ul",[["style","list-style-type:disc"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,13,"li",[],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,5,"label",[["class","subTexts"],["for","fileinpt"]],null,null,null,null,null)),(l()(),t.Rb(4,null,[""," : "])),(l()(),t.mb(16777216,null,null,1,null,P)),t.wb(6,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,$)),t.wb(8,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,5,"input",[["class","subTexts"],["id","fileinpt"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Jb(l,11)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Jb(l,11).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Jb(l,11)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Jb(l,11)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.selectMe=u)&&e),"change"===n&&(e=!1!==i.savePath(i.selectMe,l.context.$implicit,l.parent.context.$implicit)&&e),e}),null,null)),t.wb(11,16384,null,0,a.d,[t.J,t.n,[2,a.a]],null,null),t.Ob(1024,null,a.m,(function(l){return[l]}),[a.d]),t.wb(13,671744,null,0,a.q,[[8,null],[8,null],[8,null],[6,a.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,a.n,null,[a.q]),t.wb(15,16384,null,0,a.o,[[4,a.n]],null,null)],(function(l,n){var u=n.component;l(n,6,0,n.context.$implicit.isMandatory),l(n,8,0,n.parent.context.$implicit.uploadedDocs),l(n,13,0,u.submitted,u.selectMe)}),(function(l,n){l(n,4,0,n.context.$implicit.documentType.displayName),l(n,10,0,t.Jb(n,15).ngClassUntouched,t.Jb(n,15).ngClassTouched,t.Jb(n,15).ngClassPristine,t.Jb(n,15).ngClassDirty,t.Jb(n,15).ngClassValid,t.Jb(n,15).ngClassInvalid,t.Jb(n,15).ngClassPending)}))}function M(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["disabled",""],["id","inputBox"],["type","text"]],[[8,"value",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t.Bb(1,"",n.parent.context.$implicit.declaredAmount,""))}))}function O(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"td",[["class","subTexts ml-5"]],null,null,null,null,null)),(l()(),t.Rb(2,null,["",""])),(l()(),t.xb(3,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,_)),t.wb(5,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,M)),t.wb(8,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,0,"input",[["id","inputBox"],["type","number"]],[[8,"value",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.updateInvDet(l.context.$implicit,u)&&t),t}),null,null))],(function(l,n){l(n,5,0,n.context.$implicit.docType),l(n,8,0,null!=n.context.$implicit.declaredAmount)}),(function(l,n){var u=n.component;l(n,2,0,n.context.$implicit.exemption.name),l(n,10,0,t.Bb(1,"",n.context.$implicit.actualAmount,""),u.submitted)}))}function J(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,O)),t.wb(2,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.context.$implicit.child)}),null)}function U(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["disabled",""],["id","inputBox"],["type","text"]],[[8,"value",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t.Bb(1,"",n.parent.parent.context.$implicit.child[0].declaredAmount,""))}))}function N(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,0,"input",[["id","inputBox"],["type","text"]],[[8,"value",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.updateInvDet(l.parent.parent.context.$implicit.child[0],u)&&t),t}),null,null))],null,(function(l,n){var u=n.component;l(n,0,0,t.Bb(1,"",n.parent.parent.context.$implicit.child[0].actualAmount,""),u.submitted)}))}function k(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,2,"label",[["class","float-left"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(4,null,["",""])),(l()(),t.xb(5,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,U)),t.wb(8,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(9,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,N)),t.wb(11,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,8,0,null==n.parent.context.$implicit.parent&&null!=n.parent.context.$implicit.child[0].declaredAmount),l(n,11,0,null==n.parent.context.$implicit.parent)}),(function(l,n){l(n,4,0,n.parent.context.$implicit.child[0].exemption.name)}))}function F(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,E)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,J)),t.wb(4,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,k)),t.wb(6,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,null!=n.context.$implicit.parent&&1==n.context.$implicit.parent.isParent),l(n,4,0,null!=n.context.$implicit.parent&&n.context.$implicit.parent.show&&1==n.context.$implicit.parent.isParent&&"A"==n.context.$implicit.parent.status),l(n,6,0,null==n.context.$implicit.parent&&0==n.context.$implicit.child[0].exemption.isParent)}),null)}function H(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,38,"div",[["id","myTable"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,29,"div",[["class","table-responsive table-container"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,28,"table",[["class","table data-table"]],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,4,"colgroup",[],null,null,null,null,null)),(l()(),t.xb(5,0,null,null,0,"col",[["width","20%"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,0,"col",[["width","28%"]],null,null,null,null,null)),(l()(),t.xb(7,0,null,null,0,"col",[["width","20%"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,0,"col",[["width","20%"]],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.xb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Tax Exemption Heads"])),(l()(),t.xb(14,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.xb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Expand/Collapse"])),(l()(),t.xb(17,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.xb(18,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Declared"])),(l()(),t.xb(20,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.xb(21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Actual"])),(l()(),t.xb(23,0,null,null,8,"tbody",[],null,null,null,null,null)),(l()(),t.xb(24,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t.xb(25,0,null,null,4,"td",[["colspan","5"]],null,null,null,null,null)),(l()(),t.xb(26,0,null,null,1,"button",[["class","btn btn-default mr-3 mt-1 tableBtn float-right"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showAll(!1)&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Collapse All"])),(l()(),t.xb(28,0,null,null,1,"button",[["class","btn btn-default mr-3 mt-1 tableBtn float-right"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.showAll(!0)&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Expand All"])),(l()(),t.mb(16777216,null,null,1,null,F)),t.wb(31,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(32,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.xb(33,0,null,null,1,"button",[["class","btn btn-success float-right tableBtn"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.submitInvestmentDetails()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Submit"])),(l()(),t.xb(35,0,null,null,1,"button",[["class","btn btn-success float-right tableBtn mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.saveInvestmentDetails()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Save as Draft"])),(l()(),t.xb(37,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.xb(38,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,31,0,n.component.parentChildInvestmentDetails)}),(function(l,n){var u=n.component;l(n,33,0,u.submitted),l(n,35,0,u.submitted)}))}function B(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,16,"div",[["class",""]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,7,"div",[["class","info-value"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["State :"])),(l()(),t.xb(4,0,null,null,1,"label",[["class","ml-2"]],null,null,null,null,null)),(l()(),t.Rb(5,null,["",""])),(l()(),t.xb(6,0,null,null,2,"label",[["class","info-value float-right"]],null,null,null,null,null)),(l()(),t.Rb(7,null,["",""])),t.Nb(8,2),(l()(),t.xb(9,0,null,null,6,"div",[["class","d-flex justify-content-md-start flex-wrap"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,1,"label",[["class","info-label"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comment :"])),(l()(),t.xb(13,0,null,null,2,"div",[["class","ml-2"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(15,null,["",""])),(l()(),t.xb(16,0,null,null,0,"hr",[["color","gray"]],null,null,null,null,null))],null,(function(l,n){l(n,5,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.iState.description);var u=t.Sb(n,7,0,l(n,8,0,t.Jb(n.parent.parent,0),n.parent.context.$implicit.createdOn,"yyyy/MM/dd hh:mm"));l(n,7,0,u),l(n,15,0,n.parent.context.$implicit.statusComment)}))}function Y(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,B)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,"AR"==(null==n.context.$implicit?null:n.context.$implicit.iState.code)||"AA"==(null==n.context.$implicit?null:n.context.$implicit.iState.code))}),null)}function L(l){return t.Tb(0,[t.Lb(0,s.d,[t.x]),(l()(),t.xb(1,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.8)"],["color","#fff"],["size","default"],["type","ball-spin-clockwise"]],null,null,null,o.b,o.a)),t.wb(2,770048,null,0,c.a,[c.c,t.i],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(l()(),t.xb(3,0,null,0,1,"p",[["style","font-size: 20px; color: white"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Please Wait.."])),(l()(),t.xb(5,0,null,null,44,"div",[["class","cont-body"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,5,"div",[["class","head"]],null,null,null,null,null)),(l()(),t.xb(7,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.xb(8,0,null,null,3,"div",[["class","col-sm-9"]],null,null,null,null,null)),(l()(),t.xb(9,0,null,null,2,"label",[["class","ml-2 head-label"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,0,"i",[["class","fa fa-list mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Actual Investment"])),(l()(),t.xb(12,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.xb(13,0,null,null,16,"fieldset",[["class","fieldset"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,1,"legend",[["class","legend"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Employee Details: "])),(l()(),t.xb(16,0,null,null,13,"div",[["class","userDetails"]],null,null,null,null,null)),(l()(),t.xb(17,0,null,null,12,"div",[["class","row pt-3 pb-3"]],null,null,null,null,null)),(l()(),t.xb(18,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t.xb(19,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Employee Code: "])),(l()(),t.Rb(21,null,[""," "])),(l()(),t.xb(22,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t.xb(23,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Employee Name: "])),(l()(),t.Rb(25,null,[""," "])),(l()(),t.xb(26,0,null,null,3,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t.xb(27,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Pan: "])),(l()(),t.Rb(29,null,[""," "])),(l()(),t.mb(16777216,null,null,1,null,g)),t.wb(31,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(32,0,null,null,3,"div",[["class","ml-2 h5"]],null,null,null,null,null)),(l()(),t.xb(33,0,null,null,2,"label",[["for","selectdrop"]],null,null,null,null,null)),(l()(),t.xb(34,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Select Assessment Year :"])),(l()(),t.xb(36,0,null,null,6,"select",[["class","form-control"],["id","selectdrop"]],null,[[null,"change"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.getInvestmentDetails(u)&&t),t}),null,null)),(l()(),t.mb(16777216,null,null,1,null,I)),t.wb(38,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,R)),t.wb(40,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,T)),t.wb(42,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(43,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,w)),t.wb(45,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,D)),t.wb(47,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,H)),t.wb(49,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(50,0,null,null,8,"ngx-smart-modal",[["class","mr-auto"]],null,[["window","resize"]],(function(l,n,u){var e=!0;return"window:resize"===n&&(e=!1!==t.Jb(l,51).targetPlacement()&&e),e}),r.b,r.a)),t.wb(51,245760,[["commentsBox",4]],0,b.a,[t.J,t.i,b.c],{identifier:[0,"identifier"]},null),(l()(),t.xb(52,0,null,0,1,"label",[["class","text-dark head-label"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comments"])),(l()(),t.xb(54,0,null,0,0,"hr",[["color","gray"]],null,null,null,null,null)),(l()(),t.mb(16777216,null,0,1,null,Y)),t.wb(56,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(57,0,null,0,1,"button",[["class","btn btn-danger info-value float-right mr-3"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Jb(l,51).close()&&e),e}),null,null)),(l()(),t.Rb(-1,null,["Close"]))],(function(l,n){var u=n.component;l(n,2,0,"rgba(51, 51, 51, 0.8)","default","#fff","ball-spin-clockwise"),l(n,31,0,u.parentChildInvestmentDetails&&!u.responseFailed),l(n,38,0,!u.assessmentYears),l(n,40,0,u.assessmentYears),l(n,42,0,u.assessmentYears),l(n,45,0,u.responseFailed),l(n,47,0,!u.responseFailed),l(n,49,0,u.parentChildInvestmentDetails&&!u.responseFailed),l(n,51,0,"commentsBox"),l(n,56,0,u.investmentStateMap)}),(function(l,n){var u=n.component;l(n,21,0,null==u.current_user?null:u.current_user.empcode),l(n,25,0,null==u.current_user?null:u.current_user.displayName),l(n,29,0,null==u.current_user?null:u.current_user.pan_no)}))}function V(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-actual",[],null,null,null,L,f)),t.wb(1,114688,null,0,p,[m.k,b.c,x.a,h.j,c.c],null,null)],(function(l,n){l(n,1,0)}),null)}var j=t.tb("app-actual",p,V,{},{},[]);class z{constructor(l,n,u,t,e){this.modalBox=l,this.assYrServ=n,this.router=u,this.cfService=t,this.toast=e,this.declaredAmount=[]}ngOnInit(){this.user=JSON.parse(localStorage.getItem("current_user")),this.getTemplateForAssessmentYear()}getTemplateForAssessmentYear(){this.cfService.get(d.a.INVESTMENT_GET_TEMPLATE_FOR_ASSESSMENT).subscribe(l=>{this.template=l,this.cfService.post(d.a.INVESTMENT_GET_EXEMPTION,this.template).subscribe(l=>{this.getInvestmentPlan(),this.exemptions=l,this.exemptions.forEach(l=>{l.parent.show=!1,l.parent.detail={declaredAmount:""},null!=l.child&&l.child.forEach(l=>{l.detail={declaredAmount:""}})})})},l=>{this.toast.error("Internal error occured","Failed")})}appendDetails(){this.exemptions.forEach(l=>{this.details.forEach(n=>{l.parent.id==n.exemption.id&&(l.parent.detail=n),null!=l.child&&l.child.forEach(l=>{l.id==n.exemption.id&&(l.detail=n)})})})}getInvestmentPlan(){this.cfService.post(d.a.INVESTMENT_GET_PLAN,{template:this.template,employee:this.user}).subscribe(l=>{this.investmentPlan=l,this.isPlanPresent=!0,this.getDetails(),this.cfService.post(d.a.INVESTMENT_GET_STATE_MAP,this.investmentPlan).subscribe(l=>{this.investmentStateMap=l,console.log(this.investmentStateMap)},l=>{}),"DC"==this.investmentPlan.currentState.code?this.disable=!0:"DR"==this.investmentPlan.currentState.code||"DP"==this.investmentPlan.currentState.code?this.disable=!1:this.router.navigate(["/esp/investment/actual"])},l=>{this.isPlanPresent=!1})}getDetails(){this.cfService.post(d.a.INVESTMENT_GET_DETAILS,this.investmentPlan).subscribe(l=>{this.details=l,this.appendDetails()},l=>{})}saveOrUpdateDetails(){var l=[];this.exemptions.forEach(n=>{n.parent.isParent||l.push({declaredAmount:n.parent.detail.declaredAmount,exemption:n.parent,investment:this.investmentPlan}),null!=n.child&&n.child.forEach(n=>{l.push({declaredAmount:n.detail.declaredAmount,exemption:n,investment:this.investmentPlan})})}),this.cfService.post(d.a.INVESTMENT_SAVE_OR_UPDATE_DETAILS,l).subscribe(l=>{this.toast.success("Investment saved suceessfully","Success")},l=>{this.toast.error("Internal error occured","Failed")})}saveAsDraft(){console.log(this.isPlanPresent),this.isPlanPresent?this.saveOrUpdateDetails():(this.isPlanPresent=!0,this.cfService.post(d.a.INVESTMENT_CREATE_PLAN,{template:this.template,employee:this.user}).subscribe(l=>{this.investmentPlan=l,this.saveOrUpdateDetails()},l=>{this.toast.error("Internal error occured","Failed")}))}saveAndSubmit(){console.log(this.isPlanPresent),this.isPlanPresent?this.cfService.post(d.a.INVESTMENT_SUBMIT_DECLARED_PLAN+"DC",this.investmentPlan).subscribe(l=>{this.disable="disabled",this.saveOrUpdateDetails(),this.investmentPlan.currentState.description="Declaration Complete"},l=>{this.toast.error("Internal error occured","Failed")}):(this.isPlanPresent=!0,this.cfService.post(d.a.INVESTMENT_CREATE_PLAN,{template:this.template,employee:this.user}).subscribe(l=>{this.investmentPlan=l,this.cfService.post(d.a.INVESTMENT_SUBMIT_DECLARED_PLAN+"DC",this.investmentPlan).subscribe(l=>{this.disable="disabled",this.saveOrUpdateDetails()},l=>{this.toast.error("Internal error occured","Failed")})}))}addAmount(l){var n=0;l.child.forEach(l=>{var u=l.detail.declaredAmount;""==u&&(u=0),n+=parseInt(u)}),l.parent.detail.declaredAmount=n}show(l){console.log(l),l.show=!0}hide(l){l.show=!1}showAll(l){l.forEach(l=>{l.parent.show=!0})}hideAll(l){l.forEach(l=>{l.parent.show=!1})}}var G=u("7U9A"),q=u("MjaE"),X=t.vb({encapsulation:0,styles:[[""]],data:{}});function W(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,"div",[["class","container p-2"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"p",[["class"," alert-warning text-center p-4"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["You have submited declared investment plan ,Wait for Approval ...."]))],null,null)}function K(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"button",[["class","btn btn-light float-left ml-3"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.show(l.parent.parent.parent.context.$implicit.parent)&&t),t}),null,null)),(l()(),t.xb(1,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null))],null,null)}function Q(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"button",[["class","btn btn-light float-left ml-3"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.hide(l.parent.parent.parent.context.$implicit.parent)&&t),t}),null,null)),(l()(),t.xb(1,0,null,null,0,"i",[["class","fa fa-minus"]],null,null,null,null,null))],null,null)}function Z(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,K)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,Q)),t.wb(4,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.parent.parent.context.$implicit.parent.show),l(n,4,0,n.parent.parent.context.$implicit.parent.show)}),null)}function ll(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"div",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit?null:n.parent.parent.context.$implicit.parent.detail.declaredAmount)}))}function nl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,5,"input",[["class","form-control"],["placeholder","Declared Amount"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Jb(l,2)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Jb(l,2).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Jb(l,2)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Jb(l,2)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==((null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.parent.detail).declaredAmount=u)&&e),e}),null,null)),t.wb(2,16384,null,0,a.d,[t.J,t.n,[2,a.a]],null,null),t.Ob(1024,null,a.m,(function(l){return[l]}),[a.d]),t.wb(4,671744,null,0,a.q,[[8,null],[8,null],[8,null],[6,a.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,a.n,null,[a.q]),t.wb(6,16384,null,0,a.o,[[4,a.n]],null,null)],(function(l,n){l(n,4,0,n.component.disable,null==n.parent.parent.context.$implicit?null:n.parent.parent.context.$implicit.parent.detail.declaredAmount)}),(function(l,n){l(n,1,0,t.Jb(n,6).ngClassUntouched,t.Jb(n,6).ngClassTouched,t.Jb(n,6).ngClassPristine,t.Jb(n,6).ngClassDirty,t.Jb(n,6).ngClassValid,t.Jb(n,6).ngClassInvalid,t.Jb(n,6).ngClassPending)}))}function ul(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,12,null,null,null,null,null,null,null)),(l()(),t.xb(1,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"td",[["class","info-label"]],null,null,null,null,null)),(l()(),t.Rb(3,null,["",""])),(l()(),t.xb(4,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,Z)),t.wb(6,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(7,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,ll)),t.wb(9,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,nl)),t.wb(11,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(12,0,null,null,0,"td",[],null,null,null,null,null))],(function(l,n){l(n,6,0,null!=n.parent.context.$implicit.child),l(n,9,0,null!=n.parent.context.$implicit.child),l(n,11,0,null==n.parent.context.$implicit.child)}),(function(l,n){l(n,3,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.parent.name)}))}function tl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,1,"td",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(2,null,["",""])),(l()(),t.xb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.xb(4,0,null,null,0,"input",[["class","form-control"],["placeholder","Add your Comment"],["type","text"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.xb(5,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,5,"input",[["class","form-control"],["placeholder","Declared Amount"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Jb(l,7)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Jb(l,7).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Jb(l,7)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Jb(l,7)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==((null==l.context.$implicit?null:l.context.$implicit.detail).declaredAmount=u)&&e),"keyup"===n&&(e=!1!==i.addAmount(l.parent.parent.parent.context.$implicit)&&e),e}),null,null)),t.wb(7,16384,null,0,a.d,[t.J,t.n,[2,a.a]],null,null),t.Ob(1024,null,a.m,(function(l){return[l]}),[a.d]),t.wb(9,671744,null,0,a.q,[[8,null],[8,null],[8,null],[6,a.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t.Ob(2048,null,a.n,null,[a.q]),t.wb(11,16384,null,0,a.o,[[4,a.n]],null,null),(l()(),t.xb(12,0,null,null,0,"td",[],null,null,null,null,null))],(function(l,n){l(n,9,0,n.component.disable,null==n.context.$implicit?null:n.context.$implicit.detail.declaredAmount)}),(function(l,n){var u=n.component;l(n,2,0,null==n.context.$implicit?null:n.context.$implicit.name),l(n,4,0,u.disable),l(n,6,0,t.Jb(n,11).ngClassUntouched,t.Jb(n,11).ngClassTouched,t.Jb(n,11).ngClassPristine,t.Jb(n,11).ngClassDirty,t.Jb(n,11).ngClassValid,t.Jb(n,11).ngClassInvalid,t.Jb(n,11).ngClassPending)}))}function el(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,tl)),t.wb(2,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.child)}),null)}function il(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,el)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,null!=n.parent.context.$implicit.child)}),null)}function sl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,ul)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(16777216,null,null,1,null,il)),t.wb(4,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,n.context.$implicit.parent.isParent&&null!=n.context.$implicit.child||!n.context.$implicit.parent.isParent&&null==n.context.$implicit.child),l(n,4,0,null==n.context.$implicit?null:n.context.$implicit.parent.show)}),null)}function al(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,16,"div",[["class",""]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,7,"div",[["class","info-value"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["State :"])),(l()(),t.xb(4,0,null,null,1,"label",[["class","ml-2"]],null,null,null,null,null)),(l()(),t.Rb(5,null,["",""])),(l()(),t.xb(6,0,null,null,2,"label",[["class","info-value float-right"]],null,null,null,null,null)),(l()(),t.Rb(7,null,["",""])),t.Nb(8,2),(l()(),t.xb(9,0,null,null,6,"div",[["class","d-flex justify-content-md-start flex-wrap"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,1,"label",[["class","info-label"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comment :"])),(l()(),t.xb(13,0,null,null,2,"div",[["class","ml-2"]],null,null,null,null,null)),(l()(),t.xb(14,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(15,null,["",""])),(l()(),t.xb(16,0,null,null,0,"hr",[["color","gray"]],null,null,null,null,null))],null,(function(l,n){l(n,5,0,null==n.parent.context.$implicit?null:n.parent.context.$implicit.iState.description);var u=t.Sb(n,7,0,l(n,8,0,t.Jb(n.parent.parent,0),n.parent.context.$implicit.createdOn,"yyyy/MM/dd hh:mm"));l(n,7,0,u),l(n,15,0,n.parent.context.$implicit.statusComment)}))}function ol(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.mb(16777216,null,null,1,null,al)),t.wb(2,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(0,null,null,0))],(function(l,n){l(n,2,0,"DA"==(null==n.context.$implicit?null:n.context.$implicit.iState.code)||"DR"==(null==n.context.$implicit?null:n.context.$implicit.iState.code))}),null)}function cl(l){return t.Tb(0,[t.Lb(0,s.d,[t.x]),(l()(),t.xb(1,0,null,null,77,"div",[["class","cont-body"]],null,null,null,null,null)),(l()(),t.xb(2,0,null,null,2,"div",[["class","head"]],null,null,null,null,null)),(l()(),t.xb(3,0,null,null,1,"label",[["class","head-label text-label"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Investment Plan"])),(l()(),t.xb(5,0,null,null,20,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.xb(6,0,null,null,19,"fieldset",[["class","fieldset"]],null,null,null,null,null)),(l()(),t.xb(7,0,null,null,1,"legend",[["class","legend"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Employee Details: "])),(l()(),t.xb(9,0,null,null,16,"div",[["class","row p-3"]],null,null,null,null,null)),(l()(),t.xb(10,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(11,0,null,null,1,"label",[["class","info-label mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Employee Code:"])),(l()(),t.xb(13,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(14,null,["",""])),(l()(),t.xb(15,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(16,0,null,null,1,"label",[["class","info-label mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Employee Name:"])),(l()(),t.xb(18,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(19,null,["",""])),(l()(),t.xb(20,0,null,null,5,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(21,0,null,null,1,"label",[["class","info-label mr-1"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Pan No.:"])),(l()(),t.Rb(-1,null,["\xa0\xa0 "])),(l()(),t.xb(24,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(25,null,["",""])),(l()(),t.xb(26,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.xb(27,0,null,null,17,"fieldset",[["class","fieldset"]],null,null,null,null,null)),(l()(),t.xb(28,0,null,null,1,"legend",[["class","legend"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,[" Investment Details: "])),(l()(),t.xb(30,0,null,null,14,"div",[["class","row p-3"]],null,null,null,null,null)),(l()(),t.xb(31,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(32,0,null,null,1,"label",[["class","info-label mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Investment Year:"])),(l()(),t.xb(34,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(35,null,[""," - ",""])),(l()(),t.xb(36,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(37,0,null,null,1,"label",[["class","info-label mr-2"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Investment status:"])),(l()(),t.xb(39,0,null,null,1,"label",[["class","info-value"]],null,null,null,null,null)),(l()(),t.Rb(40,null,["",""])),(l()(),t.xb(41,0,null,null,3,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.xb(42,0,null,null,2,"label",[["class","info-label text-primary"]],null,null,null,null,null)),(l()(),t.xb(43,0,null,null,1,"a",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.modalBox.getModal("commentsBox").open()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["View Comments"])),(l()(),t.mb(16777216,null,null,1,null,W)),t.wb(46,16384,null,0,s.l,[t.U,t.R],{ngIf:[0,"ngIf"]},null),(l()(),t.xb(47,0,null,null,31,"div",[["class","container mt-3"]],null,null,null,null,null)),(l()(),t.xb(48,0,null,null,24,"div",[["class","shadow table-container table-responsive"]],null,null,null,null,null)),(l()(),t.xb(49,0,null,null,23,"table",[["class","table data-table"]],null,null,null,null,null)),(l()(),t.xb(50,0,null,null,4,"colgroup",[],null,null,null,null,null)),(l()(),t.xb(51,0,null,null,0,"col",[["style","width:32%"]],null,null,null,null,null)),(l()(),t.xb(52,0,null,null,0,"col",[["style","width:23%"]],null,null,null,null,null)),(l()(),t.xb(53,0,null,null,0,"col",[["style","width:25%"]],null,null,null,null,null)),(l()(),t.xb(54,0,null,null,0,"col",[["style","width:15%"]],null,null,null,null,null)),(l()(),t.xb(55,0,null,null,8,"thead",[],null,null,null,null,null)),(l()(),t.xb(56,0,null,null,7,"tr",[["class","bg-lightGreen bg-rounded"]],null,null,null,null,null)),(l()(),t.xb(57,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Tax Exemption Head"])),(l()(),t.xb(59,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comments"])),(l()(),t.xb(61,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Declared"])),(l()(),t.xb(63,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),t.xb(64,0,null,null,8,"tbody",[],null,null,null,null,null)),(l()(),t.xb(65,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t.xb(66,0,null,null,4,"td",[["colspan","4"]],null,null,null,null,null)),(l()(),t.xb(67,0,null,null,1,"button",[["class","btn btn-light float-right"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.hideAll(e.exemptions)&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Collapse All"])),(l()(),t.xb(69,0,null,null,1,"button",[["class","btn btn-light float-right mr-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.showAll(e.exemptions)&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Expand All"])),(l()(),t.mb(16777216,null,null,1,null,sl)),t.wb(72,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(73,0,null,null,5,"div",[["class","row mt-2 mb-3"]],null,null,null,null,null)),(l()(),t.xb(74,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.xb(75,0,null,null,1,"button",[["class","btn btn-success float-right"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.saveAndSubmit()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Save & Submit"])),(l()(),t.xb(77,0,null,null,1,"button",[["class","btn btn-success float-right mr-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.saveAsDraft()&&t),t}),null,null)),(l()(),t.Rb(-1,null,["Save as draft"])),(l()(),t.xb(79,0,null,null,8,"ngx-smart-modal",[["class","mr-auto"]],null,[["window","resize"]],(function(l,n,u){var e=!0;return"window:resize"===n&&(e=!1!==t.Jb(l,80).targetPlacement()&&e),e}),r.b,r.a)),t.wb(80,245760,[["commentsBox",4]],0,b.a,[t.J,t.i,b.c],{identifier:[0,"identifier"]},null),(l()(),t.xb(81,0,null,0,1,"label",[["class","text-dark head-label"]],null,null,null,null,null)),(l()(),t.Rb(-1,null,["Comments"])),(l()(),t.xb(83,0,null,0,0,"hr",[["color","gray"]],null,null,null,null,null)),(l()(),t.mb(16777216,null,0,1,null,ol)),t.wb(85,278528,null,0,s.k,[t.U,t.R,t.v],{ngForOf:[0,"ngForOf"]},null),(l()(),t.xb(86,0,null,0,1,"button",[["class","btn btn-danger info-value float-right mr-3"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Jb(l,80).close()&&e),e}),null,null)),(l()(),t.Rb(-1,null,["Close"]))],(function(l,n){var u=n.component;l(n,46,0,"disabled"==u.disable),l(n,72,0,u.exemptions),l(n,80,0,"commentsBox"),l(n,85,0,u.investmentStateMap)}),(function(l,n){var u=n.component;l(n,14,0,null==u.user?null:u.user.empcode),l(n,19,0,null==u.user?null:u.user.displayName),l(n,25,0,null==u.user?null:u.user.panno),l(n,35,0,null==u.template?null:u.template.assessmentYear.fromYr,null==u.template?null:u.template.assessmentYear.toYr),l(n,40,0,null==u.investmentPlan?null:u.investmentPlan.currentState.description),l(n,75,0,u.disable),l(n,77,0,u.disable)}))}function rl(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,"app-partial",[],null,null,null,cl,X)),t.wb(1,114688,null,0,z,[b.c,G.a,m.k,q.a,h.j],null,null)],(function(l,n){l(n,1,0)}),null)}var bl=t.tb("app-partial",z,rl,{},{},[]),dl=u("IheW");class pl{}u.d(n,"InvestmentModuleNgFactory",(function(){return ml}));var ml=t.ub(e,[],(function(l){return t.Gb([t.Hb(512,t.l,t.fb,[[8,[i.a,j,bl]],[3,t.l],t.B]),t.Hb(4608,s.n,s.m,[t.x,[2,s.z]]),t.Hb(4608,a.e,a.e,[]),t.Hb(4608,a.A,a.A,[]),t.Hb(4608,dl.i,dl.o,[s.c,t.G,dl.m]),t.Hb(4608,dl.p,dl.p,[dl.i,dl.n]),t.Hb(5120,dl.a,(function(l){return[l]}),[dl.p]),t.Hb(4608,dl.l,dl.l,[]),t.Hb(6144,dl.j,null,[dl.l]),t.Hb(4608,dl.h,dl.h,[dl.j]),t.Hb(6144,dl.b,null,[dl.h]),t.Hb(4608,dl.f,dl.k,[dl.b,t.t]),t.Hb(4608,dl.c,dl.c,[dl.f]),t.Hb(4608,b.c,b.c,[]),t.Hb(1073742336,s.b,s.b,[]),t.Hb(1073742336,a.z,a.z,[]),t.Hb(1073742336,a.v,a.v,[]),t.Hb(1073742336,m.o,m.o,[[2,m.t],[2,m.k]]),t.Hb(1073742336,pl,pl,[]),t.Hb(1073742336,dl.e,dl.e,[]),t.Hb(1073742336,dl.d,dl.d,[]),t.Hb(1073742336,a.j,a.j,[]),t.Hb(1073742336,c.b,c.b,[]),t.Hb(1073742336,b.b,b.b,[]),t.Hb(1073742336,e,e,[]),t.Hb(1024,m.i,(function(){return[[{path:"actual",component:p},{path:"",component:z}]]}),[]),t.Hb(256,dl.m,"XSRF-TOKEN",[]),t.Hb(256,dl.n,"X-XSRF-TOKEN",[])])}))}}]);